import './polyfills.server.mjs';
import{v as se}from"./chunk-BCJQ2GVK.mjs";import{$a as S,$b as M,H as w,Ha as U,Ia as Z,Ka as s,La as v,Na as V,Ra as E,Rb as ne,Sb as I,Ta as d,Tb as ie,U as B,Ua as q,Ub as re,Va as f,W as z,Wa as l,Xa as o,Ya as g,Z as y,_a as h,a as P,ab as c,b as k,bb as G,c as F,ca as C,cb as p,da as x,db as Y,eb as J,fa as b,h as _,ha as W,hb as D,ib as K,jb as j,kb as Q,l as H,lb as X,mb as ee,o as R,r as N,s as A,xb as te}from"./chunk-TQ42HCT7.mjs";import{a as $,b as L}from"./chunk-KRLCULJA.mjs";function ce(e,t){if(e&1&&g(0,"img",6),e&2){let i=h().$implicit;S("alt",i==null?null:i.conditions),d("ngSrc","assets/icons/static/"+(i==null?null:i.icon)+".png")("width",100)("height",100)}}function ue(e,t){if(e&1&&(l(0,"div",4)(1,"div"),c(2),o(),f(3,ce,1,4,"img",5),l(4,"div"),c(5),o()()),e&2){let i=t.$implicit;s(2),p("",i.datetime==null?null:i.datetime.substring(0,5),"h"),s(1),d("ngIf",i==null?null:i.icon),s(2),p("",i.temp," \xB0")}}var ae=(()=>{let t=class t{constructor(){this.todaysForecast=[]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=b({type:t,selectors:[["tech-storm-todays-forecast"]],inputs:{todaysForecast:"todaysForecast"},standalone:!0,features:[D],decls:6,vars:1,consts:[[1,"flex","flex-col","overflow-x-auto","w-8/12","p-4","text-gray-500","justify-start","bg-gray-100","rounded-2xl"],[1,"text-lg","font-bold"],[1,"flex","flex-row","justify-between","items-center","max-w-full","overflow-x-auto"],["class","flex flex-col justify-center items-center font-bold px-5 border-r",4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-center","items-center","font-bold","px-5","border-r"],[3,"alt","ngSrc","width","height",4,"ngIf"],[3,"alt","ngSrc","width","height"]],template:function(r,u){r&1&&(l(0,"div",0)(1,"div",1),c(2,"TODAY'S FORECAST"),o(),l(3,"div")(4,"div",2),f(5,ue,6,3,"div",3),o()()()),r&2&&(s(5),d("ngForOf",u.todaysForecast))},dependencies:[ne,I,M],encapsulation:2});let e=t;return e})();function fe(e){return e instanceof E}var T=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=y({token:t,factory:()=>(()=>{let n=x(E);return fe(n)?new O:x(pe)})(),providedIn:"root"});let e=t;return e})(),pe=(()=>{let t=class t extends T{constructor(n){super(),this.appRef=n,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}};t.\u0275fac=function(r){return new(r||t)(C(te))},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),O=class extends T{schedule(){}},le=(()=>{let t=class t{constructor(n,r){this.cdRef=n,this.tickScheduler=r}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}};t.\u0275fac=function(r){return new(r||t)(C(V),C(T))},t.\u0275prov=y({token:t,factory:t.\u0275fac});let e=t;return e})();function he(e){return t=>e[t.type]?.(t)}function me(e){return R(e)?e:ve(e)?A(we(e)):xe(e)?H(e):new F(t=>{t.next(e)})}function xe(e){return typeof e?.then=="function"}function ve(e){return ge(e)&&Object.keys(e).length>0&&Object.values(e).every(R)}function ge(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function we(e){return Object.keys(e).reduce((t,i)=>L($({},t),{[i]:e[i].pipe(w())}),{})}function ye(e){let t=he(e),i=new _(1);return{nextPotentialObservable(n){i.next(n)},handlePotentialObservableChanges(){return i.pipe(w(),Ce(),w(be),z(t))}}}function Ce(){return k(B(e=>{let t=me(e),i=!0,n=!0;return new F(r=>{let u=U(()=>t.subscribe({next(m){r.next({type:"next",value:m,reset:i,synchronous:n}),i=!1},error(m){r.next({type:"error",error:m,reset:i,synchronous:n}),i=!1},complete(){r.next({type:"complete",reset:i,synchronous:n}),i=!1}}));return i&&(r.next({type:"suspense",reset:i,synchronous:!0}),i=!1),n=!1,u})}))}function be(e,t){return e.type!==t.type||e.reset!==t.reset?!1:t.type==="next"?e.value===t.value:t.type==="error"?e.error===t.error:!0}var de=(()=>{let t=class t{set ngrxLet(n){this.renderEventManager.nextPotentialObservable(n)}constructor(n,r,u,m){this.mainTemplateRef=n,this.viewContainerRef=r,this.errorHandler=u,this.renderScheduler=m,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=ye({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:a=>{this.viewContext.$implicit=a.value,this.viewContext.ngrxLet=a.value,a.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(a.synchronous)},error:a=>{this.viewContext.error=a.error,a.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(a.synchronous),this.errorHandler.handleError(a.error)},complete:a=>{this.viewContext.complete=!0,a.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(a.synchronous)}}),this.subscription=new P}static ngTemplateContextGuard(n,r){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(n){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),n||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}};t.\u0275fac=function(r){return new(r||t)(v(ee),v(q),v(Z),v(le))},t.\u0275dir=W({type:t,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:["ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[J([le])]});let e=t;return e})();function Se(e,t){if(e&1&&g(0,"img",11),e&2){let i=h().$implicit;S("alt",i==null?null:i.conditions),d("ngSrc","assets/icons/animated/"+(i==null?null:i.icon)+".svg")("width",200)("height",200)}}function De(e,t){if(e&1&&(l(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8),c(5),j(6,"uppercase"),o(),l(7,"div",9),c(8),o(),l(9,"div",9),c(10),o(),l(11,"div",9),c(12),o()()(),l(13,"div",8),c(14),j(15,"number"),o()(),f(16,Se,1,4,"img",10),o()),e&2){let i=t.$implicit,n=h().$implicit;s(5),G(Q(6,7,n==null?null:n.address)),s(3),p("Feels like ",n==null||n.currentConditions==null?null:n.currentConditions.feelslike," \xB0"),s(2),Y("Chance of ",n==null||n.currentConditions==null?null:n.currentConditions.preciptype," ",n==null||n.currentConditions==null?null:n.currentConditions.precipprob," % "),s(2),p("Sunset at ",n==null||n.currentConditions==null?null:n.currentConditions.sunset,""),s(2),p("",X(15,9,i==null?null:i.temp,"1.0-0")," \xB0"),s(2),d("ngIf",i==null?null:i.icon)}}var Ie=()=>[];function Me(e,t){if(e&1&&(l(0,"div",1),f(1,De,17,12,"div",2),g(2,"tech-storm-todays-forecast",3),o()),e&2){let i=t.$implicit,n=h();s(1),d("ngrxLet",n.currentWeather$),s(1),d("todaysForecast",(i==null||i.days==null||i.days[0]==null?null:i.days[0].hours)||K(2,Ie))}}var qe=(()=>{let t=class t{constructor(){this.weatherFacade=x(se),this.weatherData$=this.weatherFacade.weatherData$,this.currentWeather$=this.weatherData$.pipe(N(n=>n?.currentConditions))}ngOnInit(){this.weatherFacade.loadWeatherData("zemst")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=b({type:t,selectors:[["tech-storm-dashboard-view"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","h-full w-full flex flex-col justify-center items-center",4,"ngrxLet"],[1,"h-full","w-full","flex","flex-col","justify-center","items-center"],["class","flex flex-row items-center justify-between gap-5",4,"ngrxLet"],[1,"w-full",3,"todaysForecast"],[1,"flex","flex-row","items-center","justify-between","gap-5"],[1,"flex","flex-col","gap-8"],[1,"flex","flex-col","gap-2"],[1,"flex","flex-col"],[1,"font-extrabold","text-3xl"],[1,"text-gray-500","text-xs"],["priority","true",3,"alt","ngSrc","width","height",4,"ngIf"],["priority","true",3,"alt","ngSrc","width","height"]],template:function(r,u){r&1&&f(0,Me,3,3,"div",0),r&2&&d("ngrxLet",u.weatherData$)},dependencies:[ae,de,ie,re,M,I],encapsulation:2});let e=t;return e})();export{qe as DashboardViewComponent};
