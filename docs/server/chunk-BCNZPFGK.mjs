import './polyfills.server.mjs';
import{v as ee}from"./chunk-CZBECRZ7.mjs";import{$a as c,H as p,Ha as z,Ia as A,Ka as f,La as h,Na as b,Ob as X,Pb as Y,Ra as D,Ta as x,U as k,Ua as B,Va as M,W as H,Wa as a,Wb as _,Xa as o,Ya as N,Z as m,_a as R,a as I,ab as U,b as L,bb as Z,c as g,ca as v,cb as q,da as l,fa as w,fb as y,gb as V,h as $,ha as W,hb as G,ib as J,jb as K,l as O,o as C,r as T,s as P,ub as Q}from"./chunk-RPWBRWTO.mjs";import{a as E,b as F}from"./chunk-KRLCULJA.mjs";var ie=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=w({type:t,selectors:[["tech-storm-todays-forecast"]],standalone:!0,features:[y],decls:2,vars:0,template:function(n,d){n&1&&(a(0,"div"),c(1,"TodaysForecast works!"),o())},encapsulation:2});let e=t;return e})();function se(e){return e instanceof D}var j=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=m({token:t,factory:()=>(()=>{let i=l(D);return se(i)?new S:l(oe)})(),providedIn:"root"});let e=t;return e})(),oe=(()=>{let t=class t extends j{constructor(i){super(),this.appRef=i,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}};t.\u0275fac=function(n){return new(n||t)(v(Q))},t.\u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),S=class extends j{schedule(){}},ne=(()=>{let t=class t{constructor(i,n){this.cdRef=i,this.tickScheduler=n}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}};t.\u0275fac=function(n){return new(n||t)(v(b),v(j))},t.\u0275prov=m({token:t,factory:t.\u0275fac});let e=t;return e})();function ae(e){return t=>e[t.type]?.(t)}function de(e){return C(e)?e:ue(e)?P(fe(e)):ce(e)?O(e):new g(t=>{t.next(e)})}function ce(e){return typeof e?.then=="function"}function ue(e){return le(e)&&Object.keys(e).length>0&&Object.values(e).every(C)}function le(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function fe(e){return Object.keys(e).reduce((t,r)=>F(E({},t),{[r]:e[r].pipe(p())}),{})}function he(e){let t=ae(e),r=new $(1);return{nextPotentialObservable(i){r.next(i)},handlePotentialObservableChanges(){return r.pipe(p(),pe(),p(me),H(t))}}}function pe(){return L(k(e=>{let t=de(e),r=!0,i=!0;return new g(n=>{let d=z(()=>t.subscribe({next(u){n.next({type:"next",value:u,reset:r,synchronous:i}),r=!1},error(u){n.next({type:"error",error:u,reset:r,synchronous:i}),r=!1},complete(){n.next({type:"complete",reset:r,synchronous:i}),r=!1}}));return r&&(n.next({type:"suspense",reset:r,synchronous:!0}),r=!1),i=!1,d})}))}function me(e,t){return e.type!==t.type||e.reset!==t.reset?!1:t.type==="next"?e.value===t.value:t.type==="error"?e.error===t.error:!0}var re=(()=>{let t=class t{set ngrxLet(i){this.renderEventManager.nextPotentialObservable(i)}constructor(i,n,d,u){this.mainTemplateRef=i,this.viewContainerRef=n,this.errorHandler=d,this.renderScheduler=u,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=he({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:s=>{this.viewContext.$implicit=s.value,this.viewContext.ngrxLet=s.value,s.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(s.synchronous)},error:s=>{this.viewContext.error=s.error,s.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(s.synchronous),this.errorHandler.handleError(s.error)},complete:s=>{this.viewContext.complete=!0,s.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(s.synchronous)}}),this.subscription=new I}static ngTemplateContextGuard(i,n){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(i){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),i||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}};t.\u0275fac=function(n){return new(n||t)(h(K),h(B),h(A),h(ne))},t.\u0275dir=W({type:t,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:["ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[q([ne])]});let e=t;return e})();function ve(e,t){if(e&1&&(a(0,"div",3)(1,"div"),c(2,"DashboardView works!"),o(),a(3,"div",4),c(4),V(5,"uppercase"),o(),a(6,"div",4),c(7),V(8,"number"),o(),N(9,"img",5)(10,"tech-storm-todays-forecast"),o()),e&2){let r=t.$implicit,i=R().$implicit;f(4),U(G(5,5,i==null?null:i.address)),f(3),Z("",J(8,7,r==null?null:r.temp,"1.0-0")," \xB0"),f(2),x("ngSrc","assets/icons/animated/"+(r==null?null:r.icon)+".svg")("width",200)("height",150)}}function we(e,t){if(e&1&&(a(0,"div",1),M(1,ve,11,10,"div",2),o()),e&2){let r=R();f(1),x("ngrxLet",r.currentWeather$)}}var Pe=(()=>{let t=class t{constructor(){this.weatherFacade=l(ee),this.weatherData$=this.weatherFacade.weatherData$,this.currentWeather$=this.weatherData$.pipe(T(i=>i?.currentConditions))}ngOnInit(){this.weatherFacade.loadWeatherData("zemst")}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=w({type:t,selectors:[["tech-storm-dashboard-view"]],standalone:!0,features:[y],decls:1,vars:1,consts:[["class","h-full w-full flex flex-row justify-center items-center",4,"ngrxLet"],[1,"h-full","w-full","flex","flex-row","justify-center","items-center"],["class","flex flex-col justify-center items-center",4,"ngrxLet"],[1,"flex","flex-col","justify-center","items-center"],[1,"font-extrabold","text-3xl"],["alt","weather-icon",3,"ngSrc","width","height"]],template:function(n,d){n&1&&M(0,we,2,1,"div",0),n&2&&x("ngrxLet",d.weatherData$)},dependencies:[ie,re,X,Y,_],encapsulation:2});let e=t;return e})();export{Pe as DashboardViewComponent};
